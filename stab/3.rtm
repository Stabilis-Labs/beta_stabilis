
CALL_METHOD
  Address("account_tdx_2_12yjctk8r4csusav9c7z9a7j9vahmnnhnht5ym2ffngh9rqyajsgsdd")
  "create_proof_of_amount"
  Address("{control_badge}")
  Decimal("0.75");

CALL_METHOD    
    Address("{stab_comp}")
    "add_collateral"
    Address("resource_tdx_2_1tknxxxxxxxxxradxrdxxxxxxxxx009923554798xxxxxxxxxtfd2jc")
	Decimal("1.5")
    Decimal("0.05");
	
CALL_METHOD    
    Address("{stab_comp}")
    "add_pool_collateral"
    Address("resource_tdx_2_1t5nr68djv90t3fk9ahqtw3q96ps8mhdsa5lcxgx6unqsj6xjavmpwh") #address
	Address("resource_tdx_2_1tknxxxxxxxxxradxrdxxxxxxxxx009923554798xxxxxxxxxtfd2jc") #parent address
	Address("validator_tdx_2_1sdkarf3cr699ptgdlnyy6nhvelzvjla3kslhlghxcvpnkn3494ttlw") #pool address (validator/pool)
	true #pool unit
    true; #initial acceptance
	
CALL_METHOD    
    Address("{stab_comp}")
    "add_pool_collateral"
    Address("resource_tdx_2_1tkwt5yn34qkk9lppyjmej8dulmfgaggx954yqz28ffpgn58pvfz04y") #address
	Address("resource_tdx_2_1tknxxxxxxxxxradxrdxxxxxxxxx009923554798xxxxxxxxxtfd2jc") #parent address
	Address("validator_tdx_2_1s0hly3nphfkcztjjyfyn7juxyeev523fkrrzpk9ud4e47eut4zrmp7") #pool address (validator/pool)
	true #pool unit
    true; #initial acceptance
	
CALL_METHOD    
    Address("{stab_comp}")
    "add_pool_collateral"
    Address("resource_tdx_2_1thydcf5zxpp20us8jka3p02ryzudndm82603j306zry8gr23p2s3mu") #address
	Address("resource_tdx_2_1tknxxxxxxxxxradxrdxxxxxxxxx009923554798xxxxxxxxxtfd2jc") #parent address
	Address("validator_tdx_2_1s0j35ansmur5q8kxem4edr23j2leutupveqc9g8kuuj29wc7uvmd8z") #pool address (validator/pool)
	true #pool unit
    true; #initial acceptance
	
CALL_METHOD
    Address("account_tdx_2_12yjctk8r4csusav9c7z9a7j9vahmnnhnht5ym2ffngh9rqyajsgsdd") #Primary account 
    "withdraw"
    Address("resource_tdx_2_1tknxxxxxxxxxradxrdxxxxxxxxx009923554798xxxxxxxxxtfd2jc") # XRD address
    Decimal("1000");

# Put the XRD from worktop into stab_bucket
TAKE_FROM_WORKTOP 
    Address("resource_tdx_2_1tknxxxxxxxxxradxrdxxxxxxxxx009923554798xxxxxxxxxtfd2jc") # XRD address
    Decimal("1000") 
    Bucket("collateral_bucket");
	
CALL_METHOD    
    Address("{stab_comp}")
    "open_cdp"
    Bucket("collateral_bucket")
	Decimal("20")
	true
;

CALL_METHOD
    Address("account_tdx_2_12yjctk8r4csusav9c7z9a7j9vahmnnhnht5ym2ffngh9rqyajsgsdd") 
    "deposit_batch"
    Expression("ENTIRE_WORKTOP");